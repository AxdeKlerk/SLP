{% extends 'base.html' %}
{% load static %}

{% block title %}Profile{% endblock %}

{% block content %}
<div class="container container-global mobile text-center">
    <div class=" row mx-auto justify-content-center align-items-start page-item">
        <div class="col-12 text-center">
        <h1 style="color: #11ED73;">User Profile</h1>
            <h3>Orders in Progress</h3>
            {% if current_orders %}
            <ul>
                {% for order in current_orders %}
                <li>
                    Order #{{ order.id }} – Status: {{ order.status }} – £{{ order.total }}
                    <ul>
                    {% for item in order.items.all %}
                        <li>{{ item.product_name }} (x{{ item.quantity }}) – £{{ item.line_total }}</li>
                    {% endfor %}
                    </ul>
                </li>
                {% endfor %}
            </ul>
            {% else %}
            <p>No orders in progress.</p>
            {% endif %}
            <h3>Order History</h3>
            {% if past_orders %}
            <ul>
                {% for order in past_orders %}
                <li>
                    Order #{{ order.id }} – Completed on {{ order.created_at|date:"M d, Y" }}
                    <ul>
                    {% for item in order.items.all %}
                        <li>{{ item.product_name }} (x{{ item.quantity }}) – £{{ item.line_total }}</li>
                    {% endfor %}
                    </ul>
                </li>
                {% endfor %}
            </ul>
            {% else %}
            <p>No past orders.</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}



