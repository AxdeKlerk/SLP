{% extends 'base.html' %}
{% load static %}

{% block content %}
  <div class="container container-global mobile">
    <h1 class="checkout-title">Checkout (Sandbox)</h1>
    <p class="checkout-subtitle">Enter any Square Sandbox test card to generate a token.</p>

    <!-- Amount input -->
    <label for="amount" class="form-label">Amount (GBP)</label>
    <input id="amount" type="number" min="1" step="0.01" value="10.00"
           class="form-control amount-input" />

    <hr />

    <!-- Card element goes here -->
    <div id="card-container" class="card-container"></div>

    <!-- Button -->
    <button id="pay-button" type="button" class="btn cta-btn">Generate Token</button>
    <div id="status" class="status-msg" role="status" aria-live="polite"></div>
  </div>

  <!-- Config passed in safely -->
  <div id="square-config"
       data-app-id="{{ SQUARE_APPLICATION_ID|escape }}"
       data-location-id="{{ SQUARE_LOCATION_ID|escape }}">
  </div>
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/square-checkout.css' %}">
{% endblock %}

{% block extra_js %}
<script src="https://sandbox.web.squarecdn.com/v1/square.js"></script>
<script src="{% static 'js/square-checkout.js' %}"></script>
{% endblock %}

